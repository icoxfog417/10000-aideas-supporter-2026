<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>10,000 AIdeas 応募サポーター | Kiro Translator</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header with Kiro -->
        <header class="header">
            <div class="kiro-mascot">
                <img src="assets/kiro-icon.svg" alt="Kiro" class="kiro-icon">
                <div class="speech-bubble">
                    <span id="kiro-message">一緒にアイデアを形にしよう！</span>
                </div>
            </div>
            <h1>10,000 AIdeas 応募サポーター</h1>
            <p class="subtitle">母国語で入力 → 英語に翻訳 → コンテストに応募！</p>
        </header>

        <!-- Progress Steps (3 steps now) -->
        <div class="progress-bar">
            <div class="step active" data-step="1">
                <span class="step-number">1</span>
                <span class="step-label">アイデア選択</span>
            </div>
            <div class="step" data-step="2">
                <span class="step-number">2</span>
                <span class="step-label">詳細入力</span>
            </div>
            <div class="step" data-step="3">
                <span class="step-number">3</span>
                <span class="step-label">完成！</span>
            </div>
        </div>

        <!-- Step 1: Idea Selection with AI Suggestion -->
        <section id="step1" class="form-section active">
            <h2>💡 どんなアイデアを応募する？</h2>
            <p class="section-desc">カテゴリと課題を選んで、AIにアイデアを提案してもらおう！</p>

            <div class="category-selector">
                <h3>カテゴリを選択（1つ選んでね）</h3>
                <div class="category-chips" id="category-chips">
                    <button class="chip category-chip" data-category="workplace-efficiency">💼 業務効率化</button>
                    <button class="chip category-chip" data-category="daily-life">🏠 日常生活の向上</button>
                    <button class="chip category-chip" data-category="commercial">🏪 商用ソリューション</button>
                    <button class="chip category-chip" data-category="social-impact">🌍 社会貢献</button>
                    <button class="chip category-chip" data-category="creative">🎨 クリエイティブ表現</button>
                </div>
            </div>

            <div class="problem-selector">
                <h3>解決したい課題は？（複数選択OK）</h3>
                <p class="hint" id="problem-hint">まずカテゴリを選択してください</p>
                <div class="problem-chips" id="problem-chips">
                    <!-- Problems will be dynamically populated based on category -->
                </div>
                <textarea id="custom-problem" class="hidden" placeholder="解決したい課題を自由に入力してください..."></textarea>
            </div>

            <!-- AI Idea Suggestion Section -->
            <div class="ai-suggestion-section">
                <h3>🤖 AIにアイデアを提案してもらう</h3>
                <p class="hint">選択したカテゴリと課題を基に、AIがアイデアを提案します</p>
                <button class="btn-ai-suggest" id="ai-suggest-btn" onclick="generateAiSuggestion()">
                    <span class="btn-text">✨ AIでアイデアを生成</span>
                    <span class="btn-loading hidden">生成中...</span>
                </button>
                <div class="ai-suggestion-result hidden" id="ai-suggestion-result">
                    <div class="suggestion-card">
                        <h4>💡 AIからの提案</h4>
                        <div class="suggestion-content" id="ai-suggestion-content"></div>
                        <button class="btn-use-suggestion" onclick="useSuggestion()">この提案を使う →</button>
                    </div>
                </div>
            </div>

            <button class="btn-primary next-btn" onclick="goToStep(2)">
                次へ進む →
            </button>
        </section>

        <!-- Step 2: Detail Input -->
        <section id="step2" class="form-section">
            <h2>📝 アイデアの詳細を教えて！</h2>
            <p class="section-desc">日本語でOK！Kiroが英語に翻訳するよ</p>

            <div class="form-group">
                <label for="team-name">チーム名</label>
                <input type="text" id="team-name" placeholder="例: AI Innovation Lab" maxlength="100">
                <span class="char-count"><span id="team-name-count">0</span>/100</span>
            </div>

            <div class="form-group">
                <label for="big-idea">💡 あなたのビッグアイデアは？（エレベーターピッチ）</label>
                <p class="hint">1〜2文で、アイデアの本質を伝えてください</p>
                <textarea id="big-idea" placeholder="例: AIを使って、言語の壁を越えたリアルタイムコミュニケーションを実現するツールを作ります。誰でも簡単に多言語でのコラボレーションができるようになります。" maxlength="1500"></textarea>
                <span class="char-count"><span id="big-idea-count">0</span>/500（日本語→英語で約1/3に）</span>
            </div>

            <div class="form-group">
                <label for="vision">🔭 具体的に何を作る？（ビジョン）</label>
                <p class="hint">プロジェクトの主要機能と特徴を説明してください</p>
                <textarea id="vision" placeholder="例:
・リアルタイム音声翻訳機能
・100以上の言語に対応
・文脈を理解したAI翻訳
・シンプルで直感的なUI
・オフラインでも動作する軽量モデル" maxlength="3000"></textarea>
                <span class="char-count"><span id="vision-count">0</span>/1000（日本語→英語で約1/3に）</span>
            </div>

            <div class="form-group">
                <label for="impact">🌟 どんなインパクトがある？</label>
                <p class="hint">誰が恩恵を受ける？どんな問題を解決する？</p>
                <textarea id="impact" placeholder="例:
・言語の壁で困っている旅行者
・多国籍チームで働くビジネスパーソン
・外国語学習中の学生
コミュニケーションの障壁をなくし、世界中の人々がより簡単につながれるようになります。" maxlength="3000"></textarea>
                <span class="char-count"><span id="impact-count">0</span>/1000（日本語→英語で約1/3に）</span>
            </div>

            <div class="form-group">
                <label for="game-plan">🛠️ どうやって作る？（実装計画）</label>
                <p class="hint">技術的なアプローチや開発ステップを説明</p>
                <textarea id="game-plan" placeholder="例:
フェーズ1: Amazon Transcribeで音声認識
フェーズ2: Amazon Bedrockで文脈理解と翻訳
フェーズ3: Amazon Pollyで音声合成
フェーズ4: UIの構築とテスト
フェーズ5: デプロイとフィードバック収集" maxlength="4500"></textarea>
                <span class="char-count"><span id="game-plan-count">0</span>/1500（日本語→英語で約1/3に）</span>
            </div>

            <div class="form-group">
                <label>🤖 使用するAWS AIサービス（複数選択可）</label>
                <div class="service-chips">
                    <button class="chip service-chip" data-service="Amazon Bedrock">Amazon Bedrock</button>
                    <button class="chip service-chip" data-service="Amazon Bedrock AgentCore">Amazon Bedrock AgentCore</button>
                    <button class="chip service-chip" data-service="Kiro">Kiro</button>
                    <button class="chip service-chip" data-service="Amazon Nova">Amazon Nova</button>
                    <button class="chip service-chip" data-service="Amazon SageMaker">Amazon SageMaker</button>
                    <button class="chip service-chip" data-service="Strands Agents SDK">Strands Agents SDK</button>
                </div>
            </div>

            <div class="form-group">
                <label>☁️ その他のAWSサービス（複数選択可）</label>
                <div class="service-chips">
                    <button class="chip service-chip other-service" data-service="Amazon S3">Amazon S3</button>
                    <button class="chip service-chip other-service" data-service="AWS Lambda">AWS Lambda</button>
                    <button class="chip service-chip other-service" data-service="Amazon DynamoDB">Amazon DynamoDB</button>
                    <button class="chip service-chip other-service" data-service="Amazon API Gateway">Amazon API Gateway</button>
                    <button class="chip service-chip other-service" data-service="Amazon CloudFront">Amazon CloudFront</button>
                    <button class="chip service-chip other-service" data-service="AWS Amplify">AWS Amplify</button>
                    <button class="chip service-chip other-service" data-service="Amazon Cognito">Amazon Cognito</button>
                    <button class="chip service-chip other-service" data-service="Amazon SNS">Amazon SNS</button>
                </div>
            </div>

            <div class="kiro-encouragement">
                <img src="assets/kiro-icon.svg" alt="Kiro" class="kiro-small">
                <p>入力内容をAmazon Bedrockで英語に翻訳するよ！<br>コンテスト向けに自然な英語に仕上げます ✨</p>
            </div>

            <div class="btn-group">
                <button class="btn-secondary" onclick="goToStep(1)">← 戻る</button>
                <button class="btn-primary translate-btn" onclick="translateAndComplete()" id="translate-btn">
                    <span class="btn-text">🚀 翻訳して完成！</span>
                    <span class="btn-loading hidden">翻訳中...</span>
                </button>
            </div>
        </section>

        <!-- Step 3: Result (was Step 4) -->
        <section id="step3" class="form-section">
            <h2>🎉 完成！</h2>
            <p class="section-desc">下の内容をコピーしてコンテストフォームに貼り付けてね</p>

            <div class="result-cards">
                <div class="result-card">
                    <div class="result-header">
                        <h4>Team Name</h4>
                        <button class="copy-btn" onclick="copyToClipboard('result-team-name')">📋 コピー</button>
                    </div>
                    <div class="result-content" id="result-team-name"></div>
                </div>

                <div class="result-card">
                    <div class="result-header">
                        <h4>Big Idea (Elevator Pitch)</h4>
                        <button class="copy-btn" onclick="copyToClipboard('result-big-idea')">📋 コピー</button>
                    </div>
                    <div class="result-content" id="result-big-idea"></div>
                    <div class="char-indicator"><span id="big-idea-chars">0</span>/500</div>
                </div>

                <div class="result-card">
                    <div class="result-header">
                        <h4>Vision (What will you build?)</h4>
                        <button class="copy-btn" onclick="copyToClipboard('result-vision')">📋 コピー</button>
                    </div>
                    <div class="result-content" id="result-vision"></div>
                    <div class="char-indicator"><span id="vision-chars">0</span>/1000</div>
                </div>

                <div class="result-card">
                    <div class="result-header">
                        <h4>Impact (How will it make a difference?)</h4>
                        <button class="copy-btn" onclick="copyToClipboard('result-impact')">📋 コピー</button>
                    </div>
                    <div class="result-content" id="result-impact"></div>
                    <div class="char-indicator"><span id="impact-chars">0</span>/1000</div>
                </div>

                <div class="result-card">
                    <div class="result-header">
                        <h4>Game Plan (How will you build it?)</h4>
                        <button class="copy-btn" onclick="copyToClipboard('result-game-plan')">📋 コピー</button>
                    </div>
                    <div class="result-content" id="result-game-plan"></div>
                    <div class="char-indicator"><span id="game-plan-chars">0</span>/1500</div>
                </div>

                <div class="result-card">
                    <div class="result-header">
                        <h4>AWS AI Services</h4>
                        <button class="copy-btn" onclick="copyToClipboard('result-ai-services')">📋 コピー</button>
                    </div>
                    <div class="result-content" id="result-ai-services"></div>
                </div>

                <div class="result-card">
                    <div class="result-header">
                        <h4>Other AWS Services</h4>
                        <button class="copy-btn" onclick="copyToClipboard('result-other-services')">📋 コピー</button>
                    </div>
                    <div class="result-content" id="result-other-services"></div>
                </div>
            </div>

            <div class="final-actions">
                <button class="btn-primary" onclick="openContestPage()">
                    🚀 コンテストページを開く
                </button>
                <button class="btn-secondary" onclick="copyAllResults()">📋 すべてコピー</button>
                <button class="btn-secondary" onclick="goToStep(1)">🔄 最初からやり直す</button>
            </div>

            <div class="kiro-celebration">
                <img src="assets/kiro-icon.svg" alt="Kiro" class="kiro-large">
                <p>お疲れ様！素敵なアイデアだね！<br>コンテスト頑張ってね！🎉</p>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>Made with ❤️ by Kiro | Powered by AWS</p>
            <p class="disclaimer">このツールは非公式のサポートツールです。<br>翻訳結果は必ずご自身で確認してください。</p>
        </footer>
    </div>

    <script src="config.js"></script>
    <script src="sigv4.js"></script>
    <script src="app.js"></script>
</body>
</html>
